<form version="1.1">
  <label>Dashboards comparison</label>
  <fieldset submitButton="false">
    <input type="radio" token="equal" searchWhenChanged="true">
      <label>Similar</label>
      <choice value="1">True</choice>
      <choice value="0">False</choice>
      <default>0</default>
      <initialValue>0</initialValue>
    </input>
    <input type="dropdown" token="lookup" searchWhenChanged="true">
      <label>Environment</label>
      <choice value="main">Main</choice>
      <choice value="secops">ES</choice>
    </input>
  </fieldset>
  <row>
    <panel>
      <table>
        <title>Only Knowledge objects on both stacks</title>
        <search>
          <query>| inputlookup $lookup$_all_dashboards.csv 
| eval src = "true" 
| rename eai:acl.app as src_APP, eai:acl.sharing as src_SHARING, disabled as src_disabled, label as src_label, eai:acl.owner as src_owner, eai:data as src_data 
| append 
    [| rest splunk_server=local /services/data/ui/views 
    | fields eai:acl.sharing, eai:acl.app, disabled, label, title, eai:acl.owner, eai:data 
    | rename eai:acl.app as dest_APP, eai:acl.sharing as dest_SHARING, disabled as dest_disabled, label as dest_label, eai:acl.owner as dest_owner, eai:data as dest_data 
    | eval dest="true" ] 
| stats values(*) as * by title 
| eval src = if(isnull(src), "false", src), dest = if(isnull(dest), "false", dest) 
| search src=true dest=true 
| fields title, *_APP, *_data 
| eval equal = if(src_data==dest_data,1,0) | search equal=$equal$</query>
          <earliest>-24h@h</earliest>
          <latest>now</latest>
        </search>
        <option name="drilldown">none</option>
        <option name="refresh.display">progressbar</option>
      </table>
    </panel>
  </row>
</form>